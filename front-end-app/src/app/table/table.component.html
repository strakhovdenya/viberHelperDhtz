<mat-form-field>
  <mat-label>Поиск</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="строка для поиска" #input>
</mat-form-field>

<table mat-table
       [dataSource]="dataSource"
       class="mat-elevation-z8">

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->

  <!-- Position Column -->
  <ng-container matColumnDef="data">
    <th mat-header-cell *matHeaderCellDef> День</th>
    <td mat-cell *matCellDef="let element"> {{element.data}}</td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="time_ice">
    <th mat-header-cell *matHeaderCellDef> Время льда</th>
    <td
      [ngClass]="{changed:dataForChanging[element.id]['time_ice']===false}"
      mat-cell
      *matCellDef="let element"
      (click)="setInputIce($event,element.id)">

      <mat-form-field class="no-paddings" *ngIf="!numlist[element.id]" floatLabel="never">
        <input matInput
               [textMask]="{mask: timemask}"
               placeholder="Время льда"
               [value]="element.time_ice"
               [(ngModel)]="element.time_ice"
               (ngModelChange)="onElementChange(element.id)"
               (keydown)="setEndOfTextIce($event, element.id)"
               type="text">
      </mat-form-field>
      <span *ngIf="numlist[element.id]">{{element.time_ice}}</span>
    </td>
  </ng-container>
  <!-- Weight Column -->
  <ng-container matColumnDef="ice_place">
    <th mat-header-cell *matHeaderCellDef> Место льда</th>
    <td
      [ngClass]="{changed:dataForChanging[element.id]['ice_place']===false}"
      mat-cell
      *matCellDef="let element"
      (click)="setIcePlace($event,element.id)">
      <mat-form-field class="no-paddings" *ngIf="!icePlace[element.id]" floatLabel="never">
        <mat-select [value]="element.ice_place" [(ngModel)]="element.ice_place"
                    (ngModelChange)="onElementChange(element.id)" placeholder="Место льда">
          <mat-option value="Палац спорту">Палац спорту</mat-option>
          <mat-option value="Салтівський лід">Салтівський лід</mat-option>
          <mat-option>None</mat-option>
        </mat-select>
      </mat-form-field>
      <span *ngIf="icePlace[element.id]">{{element.ice_place}}</span>
    </td>
  </ng-container>

  <ng-container matColumnDef="time_ground">
    <th mat-header-cell *matHeaderCellDef> Время земли</th>
    <td
      [ngClass]="{changed:dataForChanging[element.id]['time_ground']===false}"
      mat-cell
      *matCellDef="let element"
      (click)="setInputGround($event,element.id)">
      <mat-form-field class="no-paddings" *ngIf="!groundList[element.id]" floatLabel="never">
        <input matInput
               [textMask]="{mask: timemask}"
               placeholder="Время земли"
               [value]="element.time_ground"
               [(ngModel)]="element.time_ground"
               (ngModelChange)="onElementChange(element.id)"
               (keydown)="setEndOfTextGround($event, element.id)">

      </mat-form-field>
      <span *ngIf="groundList[element.id]">{{element.time_ground}}</span>
    </td>
  </ng-container>


  <ng-container matColumnDef="gathering_time">
    <th mat-header-cell *matHeaderCellDef> Время сбора</th>
    <td
      [ngClass]="{changed:dataForChanging[element.id]['gathering_time']===false}"
      mat-cell
      *matCellDef="let element"
      (click)="setInputGathering($event,element.id)">
      <mat-form-field class="no-paddings" *ngIf="!gatheringList[element.id]" floatLabel="never">
        <input matInput
               [textMask]="{mask: timemask}"
               placeholder="Время земли"
               [value]="element.gathering_time"
               [(ngModel)]="element.gathering_time"
               (ngModelChange)="onElementChange(element.id)"
               (keydown)="setEndOfTextGathering($event, element.id)">

      </mat-form-field>
      <span *ngIf="gatheringList[element.id]">{{element.gathering_time}}</span>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<!--<mat-form-field class="no-paddings">-->
<!--  <input matInput [textMask]="{mask: datemask}" [(ngModel)]="myModel" placeholder="Type a date" value="01/03/2019">-->
<!--</mat-form-field>-->
<!-- Copyright 2020 Google LLC. All Rights Reserved.
    Use of this source code is governed by an MIT-style license that
    can be found in the LICENSE file at http://angular.io/license -->
